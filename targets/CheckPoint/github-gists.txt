https://gist.githubusercontent.com/checkpoint/91ac62c45adedf5f25f9/raw/a9e1082aa732d7e1249fcb7290760d92dec045de/template_method.py
